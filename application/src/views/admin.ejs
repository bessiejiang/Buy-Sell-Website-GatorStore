<!DOCTYPE html>
<html>
<head>
    <script type="text/javascript" src="/static/lib/jquery.js"></script>
    <script src="https://getbootstrap.com/docs/4.1/assets/js/vendor/popper.min.js"></script>
    <script type="text/javascript" src="/static/lib/bootstrap.js"></script>
    <link rel="stylesheet" href="/static/lib/bootstrap.css" />
    <link rel="stylesheet" href="static/styles/dashboard.css">
    <title>Gator Store Admin Dashboard</title>
</head>

<body>

<p>CSC648-848 Section 02 TEAM #12</p>
<center><h1>Gator Store Admin Dashboard</h1></center>
<hr>
<br>

<div>
    <br><br>
    <h3>Items</h3>

    <table>
        <tr>
            <th>Title</th>
            <th>Price</th>
            <th>Description</th>
            <th>Photo</th>
            <!-- TODO: Add column for category -->
        </tr>
        <% for (let item of items.rows) {%>
            <tr>
                <td><%=item.title%></td>
                <td><%=item.price%></td>
                <td><%=item.description%></td>
                <td><img src="<%=item.photo%>" class="img-fluid card-img-top" style="width: 150px; height: 150px"/></td>
                <td><button data-toggle="modal" data-target="#review-<%=item.id%>">Review</button></td>
            </tr>

            <!-- Review Modal -->
            <div class="modal fade" id="review-<%=item.id%>" role="dialog">
                <div class="modal-dialog">
                    <form action="/review?item=<%=item.id%>" method="post">
                        <!-- Review Modal content-->
                        <div class="modal-content row">
                            <div class="modal-header">
                                <h4 class="modal-title"><%=item.title%></h4>
                            </div>
                            <div class="modal-body row">
                                <textarea name="contactDetails" class="item-description col-md-12" type="text" placeholder="type in details"></textarea>
                            </div>
                            <div class="modal-footer">
                                <button type="button" class="btn btn-default" data-dismiss="modal">Cancel</button>
                                <button type="submit" name="reviewResult" value="reject" class="btn btn-warning">Reject</button>
                                <button type="submit" name="reviewResult" value="approve" class="btn btn-success">Approve</button>
                            </div>
                        </div>
                    </form>
                </div>
            </div>
        <%}%>

    </table>
    <br><br>
</div>

</body>
</html>